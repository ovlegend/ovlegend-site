<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RLOL Stats | OV Legend</title>
  <meta name="theme-color" content="#ff8a00" />

  <!-- Optional favicon (prevents favicon.ico 404 noise) -->
  <!-- Update path if your favicon lives elsewhere -->
  <link rel="icon" href="/assets/img/brand/favicon.png" type="image/png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">

  <!-- V2 CSS -->
  <link rel="stylesheet" href="../../assets/css/rlol-v2.css" />
</head>

<body class="rlol rlol-stats-v2">
  <main class="rlol-wrap">

    <!-- Hero -->
    <header class="rlol-hero">
      <div class="rlol-hero-inner">
        <div class="rlol-hero-left">
          <div class="kicker">Rocket League of Legends</div>
          <h1 class="title">Stats</h1>
          <p class="sub">Auto-updates from Google Sheets • Click headers to sort • Search players/teams</p>

          <nav class="nav-pills" aria-label="RLOL navigation">
            <a class="pill" href="/v2/rlol/">Home</a>
            <a class="pill" href="/v2/rlol/">Hub</a>
            <a class="pill" href="/v2/rlol/schedule/">Schedule</a>
            <a class="pill" href="/v2/rlol/standings/">Standings</a>
            <a class="pill is-active" href="/v2/rlol/stats/">Stats</a>
          </nav>
        </div>

        <div class="rlol-hero-right">
          <div class="badge-card">
            <div class="badge-top">
              <span class="badge-label">Leaders</span>
              <span class="badge-chip" id="leaderChip">Loading…</span>
            </div>

            <!-- NOTE: your JS will use #leaderTitle as a fallback for the leader name -->
            <div class="badge-title" id="leaderTitle">Top Performer</div>
            <div class="badge-meta" id="leaderMeta">Fetching latest stats…</div>

            <!-- Leader buttons render here -->
            <div id="leaderBtns" class="badge-actions"></div>
          </div>
        </div>
      </div>
    </header>

    <!-- Stats Card -->
    <section class="grid">
      <article class="card wide">
        <div class="card-head">
          <h2 class="card-title">Player Stats</h2>
          <div class="card-tools">
            <!-- Your JS updates this -->
            <span class="hint" id="statsStatus">Loading…</span>
          </div>
        </div>

        <!-- Toolbar (IDs MUST match rlol-stats.js) -->
        <div class="toolbar">
          <input
            id="searchPlayer"
            class="field"
            type="search"
            placeholder="Search player or team…"
            autocomplete="off"
          />

          <select id="teamSel" class="field select">
            <option value="all">All Teams</option>
          </select>

          <select id="seasonSel" class="field select">
            <option value="all">All</option>
          </select>

          <select id="weekSel" class="field select">
            <option value="all">All</option>
          </select>

          <select id="viewMode" class="field select">
            <!-- Must match JS values -->
            <option value="season_totals">Season Totals</option>
            <option value="per_game">Per Game</option>
          </select>
        </div>

        <!-- JS renders the entire stats table inside this -->
        <div id="statsRoot">
          <div class="stats-loading">Loading stats…</div>
        </div>

        <div class="foot-note">
          Tip: Click headers to sort. Search supports partial names and team abbreviations.
        </div>
      </article>
    </section>

  </main>

  <!-- IMPORTANT: load config BEFORE the stats script -->
  <script src="/assets/js/config.js" defer></script>
  <script src="/assets/js/rlol-stats.js" defer></script>
</body>
</html>
